(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[832],{3905:function(n,e,t){"use strict";t.d(e,{Zo:function(){return c},kt:function(){return k}});var a=t(7294);function l(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function r(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,a)}return t}function s(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?r(Object(t),!0).forEach((function(e){l(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function p(n,e){if(null==n)return{};var t,a,l=function(n,e){if(null==n)return{};var t,a,l={},r=Object.keys(n);for(a=0;a<r.length;a++)t=r[a],e.indexOf(t)>=0||(l[t]=n[t]);return l}(n,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);for(a=0;a<r.length;a++)t=r[a],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(l[t]=n[t])}return l}var i=a.createContext({}),o=function(n){var e=a.useContext(i),t=e;return n&&(t="function"==typeof n?n(e):s(s({},e),n)),t},c=function(n){var e=o(n.components);return a.createElement(i.Provider,{value:e},n.children)},u={inlineCode:"code",wrapper:function(n){var e=n.children;return a.createElement(a.Fragment,{},e)}},d=a.forwardRef((function(n,e){var t=n.components,l=n.mdxType,r=n.originalType,i=n.parentName,c=p(n,["components","mdxType","originalType","parentName"]),d=o(t),k=l,m=d["".concat(i,".").concat(k)]||d[k]||u[k]||r;return t?a.createElement(m,s(s({ref:e},c),{},{components:t})):a.createElement(m,s({ref:e},c))}));function k(n,e){var t=arguments,l=e&&e.mdxType;if("string"==typeof n||l){var r=t.length,s=new Array(r);s[0]=d;var p={};for(var i in e)hasOwnProperty.call(e,i)&&(p[i]=e[i]);p.originalType=n,p.mdxType="string"==typeof n?n:l,s[1]=p;for(var o=2;o<r;o++)s[o]=t[o];return a.createElement.apply(null,s)}return a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},8698:function(n,e,t){"use strict";t.r(e),t.d(e,{frontMatter:function(){return s},metadata:function(){return p},toc:function(){return i},default:function(){return c}});var a=t(2122),l=t(9756),r=(t(7294),t(3905)),s={},p={unversionedId:"transform",id:"transform",isDocsHomePage:!1,title:"\u53d8\u6362",description:"\u4e0a\u4e00\u7bc7\u6587\u7ae0\u7684\u6700\u540e\u6211\u4eec\u6e32\u67d3\u4e86\u4e00\u4e2a\u6b63\u65b9\u5f62\uff0c\u4f46\u662f\u53ea\u80fd\u770b\u89c1\u5b83\u7684\u6b63\u9762\u3002\u8981\u770b\u5230\u5b83\u7684\u5176\u4ed6\u9762\u5c31\u9700\u8981\u5bf9\u5b83\u8fdb\u884c\u53d8\u6362\u5904\u7406\u4e86\u3002",source:"@site/docs/6-transform.md",sourceDirName:".",slug:"/transform",permalink:"/learn-webgl/docs/transform",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/6-transform.md",version:"current",sidebarPosition:6,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\u7740\u8272\u5668 / GLSL",permalink:"/learn-webgl/docs/shader"},next:{title:"\u76d2\u5b50 / \u9762\u5254\u9664",permalink:"/learn-webgl/docs/box"}},i=[{value:"2D \u53d8\u6362\u6a21\u677f",id:"2d-\u53d8\u6362\u6a21\u677f",children:[]},{value:"2D \u5e73\u79fb",id:"2d-\u5e73\u79fb",children:[]},{value:"2D \u7f29\u653e",id:"2d-\u7f29\u653e",children:[]},{value:"2D \u53cd\u5c04",id:"2d-\u53cd\u5c04",children:[]},{value:"2D \u9519\u5207",id:"2d-\u9519\u5207",children:[]},{value:"2D \u65cb\u8f6c",id:"2d-\u65cb\u8f6c",children:[]},{value:"\u77e9\u9635",id:"\u77e9\u9635",children:[]},{value:"\u9f50\u6b21\u5750\u6807",id:"\u9f50\u6b21\u5750\u6807",children:[]},{value:"\u7ec4\u5408\u53d8\u6362\u548c\u9006\u53d8\u6362",id:"\u7ec4\u5408\u53d8\u6362\u548c\u9006\u53d8\u6362",children:[{value:"\u65cb\u8f6c\u548c\u5e73\u79fb",id:"\u65cb\u8f6c\u548c\u5e73\u79fb",children:[]},{value:"\u9006\u53d8\u6362",id:"\u9006\u53d8\u6362",children:[]},{value:"\u7ed5\u4e2d\u5fc3\u65cb\u8f6c",id:"\u7ed5\u4e2d\u5fc3\u65cb\u8f6c",children:[]}]},{value:"3D \u53d8\u6362",id:"3d-\u53d8\u6362",children:[{value:"\u5e73\u79fb\u77e9\u9635",id:"\u5e73\u79fb\u77e9\u9635",children:[]},{value:"\u7f29\u653e\u77e9\u9635",id:"\u7f29\u653e\u77e9\u9635",children:[]},{value:"\u65cb\u8f6c\u77e9\u9635",id:"\u65cb\u8f6c\u77e9\u9635",children:[]}]},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",children:[]}],o={toc:i};function c(n){var e=n.components,t=(0,l.Z)(n,["components"]);return(0,r.kt)("wrapper",(0,a.Z)({},o,t,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/learn-webgl/docs/shader"},"\u4e0a\u4e00\u7bc7\u6587\u7ae0"),"\u7684\u6700\u540e\u6211\u4eec\u6e32\u67d3\u4e86\u4e00\u4e2a\u6b63\u65b9\u5f62\uff0c\u4f46\u662f\u53ea\u80fd\u770b\u89c1\u5b83\u7684\u6b63\u9762\u3002\u8981\u770b\u5230\u5b83\u7684\u5176\u4ed6\u9762\u5c31\u9700\u8981\u5bf9\u5b83\u8fdb\u884c\u53d8\u6362\u5904\u7406\u4e86\u3002"),(0,r.kt)("p",null,"\u4e0b\u9762\u63cf\u8ff0\u7684\u5404\u79cd\u53d8\u6362\u4e2d\u9664\u4e86\u5e73\u79fb\u5176\u4ed6\u90fd\u662f\u7ebf\u6027\u53d8\u6362\uff0c\u4efb\u4f55\u7ebf\u6027\u53d8\u6362\u90fd\u4f1a\u5c06\u96f6\u77e2\u91cf\u53d8\u6362\u6210\u96f6\u77e2\u91cf\uff0c\u540c\u65f6\u7ebf\u6027\u53d8\u6362\u9700\u8981\u6ee1\u8db3\u4e0b\u65b9\u4e24\u4e2a\u6761\u4ef6\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"F(a + b) = F(a) + F(b)\n\nF(ka) = kF(a)\n")),(0,r.kt)("p",null,"\u5927\u5bb6\u53ef\u4ee5\u7406\u89e3\u6210\u7ebf\u6027\u53d8\u6362\u4e0d\u4f1a\u4f7f\u76f4\u7ebf\u626d\u66f2\uff0c\u53d8\u6362\u540e\u7684\u5e73\u884c\u7ebf\u5c06\u7ee7\u7eed\u5e73\u884c\u3002"),(0,r.kt)("p",null,"\u4eff\u5c04\u53d8\u6362\u662f\u7ebf\u6027\u53d8\u6362\u7684\u8d85\u96c6\uff0c\u4eff\u5c04\u53d8\u6362\u5305\u542b\u5e73\u79fb\u3002"),(0,r.kt)("h2",{id:"2d-\u53d8\u6362\u6a21\u677f"},"2D \u53d8\u6362\u6a21\u677f"),(0,r.kt)("p",null,"\u5728\u8fdb\u884c 3D \u53d8\u6362\u4e4b\u524d\uff0c\u6211\u4eec\u5148\u6765\u770b\u4e0b 2D \u7684\u53d8\u6362\u3002\u6211\u4eec\u4f1a\u7528\u4e0b\u9762\u8fd9\u4e2a\u6a21\u677f\u4ee3\u7801\u6267\u884c\u591a\u4e2a\u4e0d\u540c\u7684\u53d8\u6362\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const canvas = document.createElement('canvas')\ncanvas.width = canvas.height = 300;\ndocument.body.appendChild(canvas)\nconst ctx = canvas.getContext('2d')\n\nlet transform = {\u4e0b\u9762\u7684\u53d8\u6362\u51fd\u6570}\n\nconst points = [[0,0],[0,100],[100,100],[100,0]] // \u6b63\u65b9\u5f62\u7684 4 \u4e2a\u9876\u70b9\nctx.beginPath()\npoints.forEach(p => ctx.lineTo(...transform(p))) \n// \"transform\" \u51fd\u6570\u4e3a\u4e0b\u65b9\u5c0f\u8282\u6307\u5b9a\u7684\u53d8\u6362\u51fd\u6570\n// \u4e0b\u9762\u7684 \"transform\" \u51fd\u6570\u8fd4\u56de\u65b0\u7684\u5750\u6807\u4f4d\u7f6e\nctx.closePath()\nctx.fillStyle='rgba(0,255,255,1)'\nctx.fill()\n")),(0,r.kt)("p",null,"\u4e0a\u9762\u4ee3\u7801\u7533\u660e\u4e86\u4e00\u4e2a\u6b63\u65b9\u5f62\u7684 4 \u4e2a\u9876\u70b9\uff0c\u7136\u540e\u4f7f\u7528\u4e0b\u9762\u4e2a\u5404\u79cd\u53d8\u6362\u51fd\u6570\u5904\u7406\u8fd9 4 \u4e2a\u9876\u70b9\uff0c\u8fd4\u56de\u65b0\u7684\u9876\u70b9\uff0c\u6700\u7ec8\u5904\u7406\u6e32\u67d3\u540e\u7684\u6b63\u65b9\u5f62\u3002"),(0,r.kt)("h2",{id:"2d-\u5e73\u79fb"},"2D \u5e73\u79fb"),(0,r.kt)("p",null,"\u5e73\u79fb\u76f8\u4fe1\u5927\u5bb6\u90fd\u77e5\u9053\u600e\u4e48\u505a\uff0c\u4f8b\u5982\u6211\u4eec\u60f3\u628a\u8fd9\u4e2a\u6b63\u65b9\u5f62\u6cbf X \u8f74\u79fb\u52a8 10px\uff0cY \u8f74 10px\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"function translate([x, y], dx = 10, dy = 10) {\n  return [x + dx, y + dy]\n}\n")),(0,r.kt)("p",null,"\u4e0a\u9762\u4ee3\u7801\u5c31\u5b9e\u73b0\u4e86\u79fb\u52a8\u6b63\u65b9\u5f62\u7684\u529f\u80fd\uff0c\u5728\u539f\u6709\u4f4d\u7f6e\u4e0a\u52a0\u4e0a\u6307\u5b9a\u7684\u4f4d\u79fb\u91cf\u3002"),(0,r.kt)("h2",{id:"2d-\u7f29\u653e"},"2D \u7f29\u653e"),(0,r.kt)("p",null,"\u8981\u5c06\u4e00\u4e2a\u5143\u7d20\uff0c\u53ea\u9700\u8981\u5c06\u5b83\u7684\u5750\u6807\u4e58\u4e0a\u4e00\u4e2a\u7f29\u653e\u56e0\u5b50\u5c31\u884c\u4e86\uff0c\u6bd4\u5982\u8fd9\u4e2a\u6b63\u65b9\u5f62\u7f29\u653e 0.5 \u500d\uff0c\u5b83\u7684\u65b0\u5750\u6807\u5c31\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"[[0,0],[0,50],[50,50],[50,0]]"),"\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/25923128/121117746-3f989a00-c84b-11eb-86ee-e284c758bad6.png",alt:"image"})),(0,r.kt)("p",null,"\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4e24\u4e2a\u7f29\u653e\u56e0\u5b50\u6765\u5206\u522b\u7f29\u653e X \u8f74\u548c Y \u8f74\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"function scale([x, y], xs = 1, ys = xs) {\n  return [x * xs, y * ys]\n}\n")),(0,r.kt)("h2",{id:"2d-\u53cd\u5c04"},"2D \u53cd\u5c04"),(0,r.kt)("p",null,"\u53cd\u5c04\u4e5f\u53eb\u955c\u50cf\uff0c\u5b83\u53ef\u4ee5\u7528\u6765\u7ffb\u8f6c\u7269\u4f53\uff0c\u548c\u7167\u955c\u5b50\u6548\u679c\u4e00\u6837\u3002\u5b9e\u73b0\u8d77\u6765\u4e5f\u6bd4\u8f83\u7b80\u5355\u4f7f\u7528\u4e0a\u65b9\u7f29\u653e\u65b9\u6cd5\u5c06 ",(0,r.kt)("inlineCode",{parentName:"p"},"x")," \u8f74\u6216 ",(0,r.kt)("inlineCode",{parentName:"p"},"y")," \u8f74\u7f29\u653e ",(0,r.kt)("inlineCode",{parentName:"p"},"-1")," \u500d\uff08\u4e5f\u5c31\u662f\u5782\u76f4\u6216\u6c34\u5e73\u955c\u50cf\uff09\u5c31\u884c\u4e86\u3002"),(0,r.kt)("h2",{id:"2d-\u9519\u5207"},"2D \u9519\u5207"),(0,r.kt)("p",null,"\u9519\u5207\u53ef\u4ee5\u7528\u6765\u503e\u659c\u7269\u4f53\uff0c\u5b83\u4f1a\u4e0d\u5747\u5300\u7684\u62c9\u4f38\u7269\u4f53\uff0c\u7269\u4f53\u9519\u5207\u540e\u5b83\u7684\u9762\u79ef\u548c\u4f53\u79ef\u4e0d\u4f1a\u53d1\u751f\u53d8\u5316\u3002"),(0,r.kt)("p",null,"\u6267\u884c\u9519\u5207\u7684\u4e00\u4e2a\u601d\u8def\u662f\u5c06\u4e00\u4e2a\u5750\u6807\u7684\u500d\u6570\u52a0\u5230\u53e6\u4e00\u4e2a\u5750\u6807\u4e0a\uff0c\u6bd4\u5982\u4e0b\u9762\u5c06 1 \u500d\u7684 Y \u5750\u6807\u52a0\u5230 X \u5750\u6807\u4e0a\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"function skew([x, y]) {\n  return [x + 1 * y, y]\n}\n")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/25923128/121117699-255ebc00-c84b-11eb-86c0-63fee61d149d.png",alt:"image"})),(0,r.kt)("p",null,"\u6211\u4eec\u77e5\u9053 CSS \u91cc\u9762\u4e5f\u6709\u9519\u5207\u65b9\u6cd5\uff0c\u4e0d\u8fc7 CSS \u4e2d\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"skew")," \u51fd\u6570\u652f\u6301\u8bbe\u7f6e\u503e\u659c\u89d2\u5ea6\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-css"},"div {\n  transform: skew(30deg);\n}\n")),(0,r.kt)("p",null,"\u6211\u4eec\u53ef\u4ee5\u7a0d\u5fae\u6539\u9020\u4e0b\uff0c\u6765\u652f\u6301\u5ea6\u6570\u53c2\u6570\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"function skew([x, y], sx = 0, sy = 0) {\n  const rad = r => r * Math.PI / 180\n  return [x + Math.tan(rad(sx)) * y, y + Math.tan(rad(sy)) * x]\n}\n")),(0,r.kt)("p",null,"\u6211\u4eec\u9996\u5148\u628a\u89d2\u5ea6\u53d8\u4e3a\u5f27\u5ea6\uff0c\u7136\u540e\u5229\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"tan")," \u51fd\u6570\u6765\u8ba1\u7b97\u5177\u4f53\u503e\u659c\u91cf\uff0c\u56e0\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"tan")," \u7b49\u4e8e\u5bf9\u8fb9\u6bd4\u4e34\u8fb9\uff0c\u518d\u4e58\u4e0a\u4e34\u8fb9\u5c31\u662f\u9700\u8981\u7684\u503e\u659c\u91cf\u4e86\u3002"),(0,r.kt)("h2",{id:"2d-\u65cb\u8f6c"},"2D \u65cb\u8f6c"),(0,r.kt)("p",null,"\u65cb\u8f6c\u662f\u8fd9\u51e0\u4e2a\u53d8\u6362\u4e2d\u6700\u96be\u7684\u4e00\u4e2a\u3002\u8981\u77e5\u9053\u5982\u4f55\u65cb\u8f6c\u4e00\u4e2a\u7269\u4f53\uff0c\u6211\u4eec\u53ef\u4ee5\u4ece\u4e0b\u9762\u8fd9\u5e45\u56fe\u5f00\u59cb\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/25923128/121728695-3136d080-cb20-11eb-8307-3f81ff836e85.png",alt:"image"})),(0,r.kt)("p",null,"\u6839\u636e\u4e09\u89d2\u51fd\u6570\uff0c\u6211\u4eec\u77e5\u9053 P \u70b9\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"x")," \u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"r * cos(a)"),"\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"y")," \u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"r * sin(a)"),"\u3002\u6211\u4eec\u5c06 P \u70b9\u65cb\u8f6c ",(0,r.kt)("inlineCode",{parentName:"p"},"a")," \u5f97\u5230 P' \u70b9\uff0c\u540c\u6837\u53ef\u4ee5\u77e5\u9053 P' \u70b9\u7684\u5750\u6807\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"[r * cos(a + b), r * sin(a + b)]"),"\u3002"),(0,r.kt)("p",null,"\u6839\u636e\u4e09\u89d2\u51fd\u6570\u4e24\u89d2\u548c\u516c\u5f0f\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"sin(a +- b) = sin(a) * cos(b) +- cos(a) * sin(b)\ncos(a +- b) = cos(a) * cos(b) -+ sin(a) * sin(b)\n")),(0,r.kt)("p",null,"\u6211\u4eec\u5c06 P' \u70b9\u5750\u6807\u5206\u89e3\u4e3a\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"P' = [r * cos(a + b), r * sin(a + b)]\n   = [r * (cos(a) * cos(b) - sin(a) * sin(b)), r * (sin(a) * cos(b) + cos(a) * sin(b))]\n   = [P.x * cos(b) - P.y * sin(b), P.x * sin(b) + P.y * cos(b)]\n")),(0,r.kt)("p",null,"\u73b0\u5728\u6211\u4eec\u5f97\u5230\u4e86\u65cb\u8f6c\u516c\u5f0f\uff0c\u5957\u7528\u516c\u5f0f\u5c31\u53ef\u4ee5\u5199\u51fa\u65cb\u8f6c\u51fd\u6570\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"function rotate([x, y], deg = 0) {\n  const rad = deg * Math.PI / 180\n  return [\n     x * Math.cos(rad) - y * Math.sin(rad), \n     x * Math.sin(rad) + y * Math.cos(rad)\n  ]\n}\n")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/25923128/121117617-019b7600-c84b-11eb-9677-04020c5ae3cd.png",alt:"image"})),(0,r.kt)("h2",{id:"\u77e9\u9635"},"\u77e9\u9635"),(0,r.kt)("p",null,"\u4e0a\u9762\u6240\u6709\u7684\u53d8\u6362\u516c\u5f0f\u6211\u4eec\u8fd8\u53ef\u4ee5\u5199\u6210\u77e9\u9635\u7684\u5f62\u5f0f\u3002\u4f8b\u5982\u4e0b\u65b9\u5c06\u7f29\u653e\u53d8\u6362\u53d8\u6210\u77e9\u9635\u5f62\u5f0f\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"scaleMatrix = [\n  sx, 0,\n  0,  sy\n]\n\nposition = [\n  x,\n  y\n]\n\nscaledPosition = scaleMatrix * position\n               = [sx * x + 0 * y, 0 * x + sy * y]\n               = [sx * x, sy * y]\n")),(0,r.kt)("p",null,"\u540c\u6837\u7684\u9519\u5207\u53ef\u4ee5\u7528\u8fd9\u4e2a\u77e9\u9635\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"skewMatrix = [\n  1,      tan(\u03b8),\n  tan(\u03b8), 1\n]\n")),(0,r.kt)("p",null,"\u65cb\u8f6c\u53ef\u4ee5\u7528\u8fd9\u4e2a\u77e9\u9635\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"rotationMatrix = [\n  cos(\u03b8), -sin(\u03b8), \n  sin(\u03b8), cos(\u03b8)\n]\n")),(0,r.kt)("p",null,"\u9700\u8981\u6ce8\u610f\u6211\u4eec\u4f7f\u7528\u7684\u662f\u5217\u77e2\u91cf\uff0c\u5982\u679c\u4f7f\u7528\u7684\u662f\u6a2a\u77e2\u91cf\uff08\u4e5f\u5c31\u662f\u77e2\u91cf\u5728\u77e9\u9635\u5de6\u8fb9\uff09\uff0c\u9700\u8981\u5c06\u65cb\u8f6c\u77e9\u9635\u8f6c\u7f6e\u4e0b\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"rotationMatrix = [\n  cos(\u03b8),  sin(\u03b8), \n  -sin(\u03b8), cos(\u03b8)\n]\n\n[x, y] * rotationMatrix\n")),(0,r.kt)("p",null,"\u5bf9\u4e8e\u6700\u7b80\u5355\u7684\u5e73\u79fb\u53d8\u6362\uff0c\u6211\u4eec\u6ca1\u6709\u529e\u6cd5\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"2 x 2")," \u77e9\u9635\u6765\u5b8c\u6210\u3002\u8981\u5b9e\u73b0\u5e73\u79fb\u77e9\u9635\u6211\u4eec\u9700\u8981\u63d0\u5347\u4e00\u4e2a\u7ef4\u5ea6\u3002"),(0,r.kt)("h2",{id:"\u9f50\u6b21\u5750\u6807"},"\u9f50\u6b21\u5750\u6807"),(0,r.kt)("p",null,"\u9f50\u6b21\u5750\u6807\u5c31\u662f\u5c06\u4e00\u4e2a\u539f\u672c\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},"n")," \u7ef4\u7684\u77e2\u91cf\u7528\u4e00\u4e2a ",(0,r.kt)("inlineCode",{parentName:"p"},"n+1")," \u7ef4\u77e2\u91cf\u6765\u8868\u793a\uff0c\u662f\u6307\u4e00\u4e2a\u7528\u4e8e\u6295\u5f71\u51e0\u4f55\u91cc\u7684\u5750\u6807\u7cfb\u7edf\uff0c\u5982\u540c\u7528\u4e8e\u6b27\u6c0f\u51e0\u4f55\u91cc\u7684\u7b1b\u5361\u513f\u5750\u6807\u4e00\u822c\u3002"),(0,r.kt)("p",null,"\u4e00\u822c\u5c06\u65b0\u52a0\u7684\u5206\u91cf\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"w")," \u8868\u793a\uff0c\u5bf9\u4e8e\u4e8c\u7ef4\u5750\u6807\u5c06\u53d8\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"[x, y, w]"),"\uff0c\u4e09\u7ef4\u5c06\u53d8\u6210 ",(0,r.kt)("inlineCode",{parentName:"p"},"[x, y, z, w]"),"\u3002"),(0,r.kt)("p",null,"\u5229\u7528\u9f50\u6b21\u5750\u6807\u6211\u4eec\u5c06\u4e8c\u7ef4\u70b9\uff0c\u8868\u793a\u5728\u4e09\u7ef4\u4e2d ",(0,r.kt)("inlineCode",{parentName:"p"},"w = 1")," \u7684\u5e73\u9762\u4e0a\uff0c\u5bf9\u4e8e ",(0,r.kt)("inlineCode",{parentName:"p"},"w != 1")," \u7684\u70b9\uff0c\u9700\u8981\u5c06\u5b83\u7684\u5404\u4e2a\u5206\u91cf\u9664\u4ee5 ",(0,r.kt)("inlineCode",{parentName:"p"},"w")," (",(0,r.kt)("inlineCode",{parentName:"p"},"[x / w, y / w, w / w]"),") \u6295\u5f71\u5230 ",(0,r.kt)("inlineCode",{parentName:"p"},"w = 1")," \u7684\u5e73\u9762\u3002\u6240\u4ee5\u9f50\u6b21\u5750\u6807\u5b9e\u9645\u4e0a\u8868\u793a\u4e8c\u7ef4\u7684\u70b9\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},"[x / w, y / w]"),"\u3002"),(0,r.kt)("p",null,"\u5f53 ",(0,r.kt)("inlineCode",{parentName:"p"},"w = 0")," \u65f6\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"x / 0")," \u662f\u672a\u5b9a\u4e49\u7684\u3002\u6211\u4eec\u53ef\u4ee5\u5c06 ",(0,r.kt)("inlineCode",{parentName:"p"},"w = 0")," \u8868\u793a\u4e3a\u77e2\u91cf\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"w != 0")," \u8868\u793a\u4e3a\u4f4d\u7f6e\u3002\u8fd9\u548c",(0,r.kt)("a",{parentName:"p",href:"/learn-webgl/docs/vector-matrix"},"\u77e2\u91cf\u548c\u77e9\u9635"),"\u4e2d\u533a\u5206\u70b9\u548c\u77e2\u91cf\u4e00\u81f4\u3002"),(0,r.kt)("p",null,"\u6709\u4e86\u9f50\u6b21\u5750\u6807\u6211\u4eec\u5c31\u53ef\u4ee5\u5b9e\u73b0\u5e73\u79fb\u77e9\u9635\u4e86\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"translateMatrix = [\n  1, 0, dx,\n  0, 1, dy,\n  0, 0, 1\n]\n\nposition = [\n  x,\n  y,\n  1\n]\n\ntranslatedMatrix = translateMatrix * position\n                 = [x + 0 * y + dx, 0 * x + y + dy, 0 * x + 0 * y + 1 * 1]\n                 = [x + dx, y + dy, 1]\n                 = [(x + dx) / 1, (y + dy) / 1]\n                 = [x + dx, y + dy]\n")),(0,r.kt)("p",null,"\u6211\u4eec\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"2 x 2")," \u77e9\u9635\u4e0a\u52a0\u4e86\u4e00\u884c\u548c\u4e00\u5217\uff0c\u5728\u65b0\u589e\u7684\u4e00\u5217\u4e2d\u5305\u542b\u4e86\u5e73\u79fb\u7684\u4fe1\u606f\u3002"),(0,r.kt)("p",null,"\u5982\u679c\u6211\u4eec\u5bf9\u77e2\u91cf\u8fdb\u884c\u5e73\u79fb\u53d8\u6362\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"translateMatrix * [x, y, 0] = [x, y, 0]\n")),(0,r.kt)("p",null,"\u6700\u7ec8\u7ed3\u679c\u8fd8\u662f\u539f\u6765\u7684\u77e2\u91cf\uff0c\u8fd9\u4e5f\u8bf4\u660e\u4e86\u77e2\u91cf\u662f\u6ca1\u6709\u4f4d\u7f6e\u7684\uff0c\u5b83\u4e0d\u4f1a\u53d1\u751f\u5e73\u79fb\u3002"),(0,r.kt)("p",null,"\u7ec8\u4e8e\u6211\u4eec\u901a\u8fc7\u77e9\u9635\u5b9e\u73b0\u4e86\u6240\u6709\u7684\u53d8\u6362\u4e86\u3002"),(0,r.kt)("h2",{id:"\u7ec4\u5408\u53d8\u6362\u548c\u9006\u53d8\u6362"},"\u7ec4\u5408\u53d8\u6362\u548c\u9006\u53d8\u6362"),(0,r.kt)("p",null,"\u53ef\u80fd\u6709\u540c\u5b66\u8981\u95ee\u4e86\uff0c\u4e3a\u5565\u975e\u8981\u7528\u77e9\u9635\u6765\u8868\u793a\u8fd9\u4e9b\u53d8\u6362\uff0c\u4e4b\u524d\u4e0d\u633a\u597d\u7684\u5417\uff1f"),(0,r.kt)("p",null,"\u7528\u77e9\u9635\u6765\u5b9e\u73b0\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5229\u7528\u77e9\u9635\u7684\u7279\u6027\uff0c\u5b9e\u73b0\u975e\u5e38\u5f3a\u5927\u7684\u529f\u80fd\uff0c\u6bd4\u5982\u6211\u4eec\u53ef\u4ee5\u5c06\u591a\u4e2a\u77e9\u9635\u7ec4\u5408\u4e3a\u4e00\u4e2a\u5355\u4e00\u77e9\u9635\uff0c\u8fd9\u4e2a\u5355\u4e00\u77e9\u9635\u5305\u542b\u4e86\u6240\u6709\u7684\u53d8\u6362\u3002"),(0,r.kt)("p",null,"\u6bd4\u5982\u6211\u4eec\u5c06\u4e00\u4f4d\u7f6e\u5e94\u7528\u4e24\u4e2a\u53d8\u6362 A \u548c B \u77e9\u9635\u3002\u6211\u4eec\u8ba9 (B * A) \u7b49\u4e8e C \u77e9\u9635\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"newPosition = B * (A * position)\n            = (B * A) * position\n            = C * position\n")),(0,r.kt)("p",null,"\u6211\u4eec\u5229\u7528\u77e9\u9635\u4e58\u6cd5\u53ef\u7ed3\u5408\u7684\u6027\u8d28\uff0c\u5c06 A \u53d8\u6362\u548c B \u53d8\u6362\u7ec4\u5408\u6210\u4e86 C \u53d8\u6362\u3002\u8fd9\u6837\u53ea\u7528\u5c06\u4f4d\u7f6e\u4e58\u4e0a\u8fd9\u4e2a C \u77e9\u9635\u5c31\u884c\u4e86\u3002\u6211\u4eec\u53ef\u4ee5\u62ff\u8fd9\u4e2a C \u77e9\u9635\u5bf9\u5176\u4ed6\u70b9\u8fdb\u884c\u540c\u6837\u7684\u53d8\u6362\u4e86\uff0c\u800c\u4e0d\u9700\u8981\u6bcf\u4e2a\u70b9\u90fd\u91cd\u65b0\u8ba1\u7b97\u4e0b ",(0,r.kt)("inlineCode",{parentName:"p"},"B * A"),"\u3002"),(0,r.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"\u9700\u8981\u6ce8\u610f\uff0c\u6211\u4eec\u9996\u5148\u662f\u5e94\u7528\u7684 A \u53d8\u6362\uff0c\u7136\u540e\u518d\u662f B \u53d8\u6362\u3002\u4f46\u662f\u7531\u4e8e\u6211\u4eec\u4f7f\u7528\u7684\u662f\u5217\u77e2\u91cf\uff0c\u6240\u4ee5\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},"B * A * position"),"\uff0cB \u5728 A \u7684\u524d\u9762\u3002"))),(0,r.kt)("h3",{id:"\u65cb\u8f6c\u548c\u5e73\u79fb"},"\u65cb\u8f6c\u548c\u5e73\u79fb"),(0,r.kt)("p",null,"\u5047\u8bbe A \u662f\u65cb\u8f6c\u53d8\u6362\uff0cB \u662f\u5e73\u79fb\u53d8\u6362\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"A = [\n  cos(\u03b8), -sin(\u03b8), 0\n  sin(\u03b8), cos(\u03b8),  0\n  0,      0,       1\n]\n\nB = [\n  1, 0, dx,\n  0, 1, dy,\n  0, 0, 1\n]\n\nC = B * A \n  = [\n    cos(\u03b8), -sin(\u03b8), dx,\n    sin(\u03b8), cos(\u03b8),  dy,\n    0,      0,       1\n  ]\n")),(0,r.kt)("p",null,"\u53ef\u4ee5\u53d1\u73b0\uff0cC \u77e9\u9635\u662f\u5c06\u65cb\u8f6c\u548c\u5e73\u79fb\u7ec4\u5408\u8d77\u6765\uff0c\u6700\u53f3\u90a3\u4e00\u5217\u662f\u5e73\u79fb\u90e8\u5206\u3002\u4e5f\u5c31\u662f\u6211\u4eec\u53ef\u4ee5\u5c06\u4e00\u4e2a\u77e9\u9635\u53d8\u6210\u7ebf\u6027\u53d8\u6362\u90e8\u5206\u548c\u5e73\u79fb\u90e8\u5206\u3002"),(0,r.kt)("h3",{id:"\u9006\u53d8\u6362"},"\u9006\u53d8\u6362"),(0,r.kt)("p",null,"\u4f7f\u7528\u77e9\u9635\u7684\u53e6\u4e00\u4e2a\u597d\u5904\u662f\u53ef\u4ee5\u5bf9\u4e00\u4e2a\u53d8\u6362\u505a\u5b83\u7684\u9006\u53d8\u6362\uff0c\u64a4\u9500\u539f\u59cb\u53d8\u6362\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"F^-1(F(a)) = F(F^-1(a)) = a\n")),(0,r.kt)("p",null,"\u5bf9\u4e00\u4e2a\u6620\u5c04 F \u662f\u53ef\u9006\u7684\u9700\u8981\u5b58\u5728\u4e00\u4e2a\u9006\u8fd0\u7b97 F^-1\uff0c\u6ee1\u8db3\u4e0a\u65b9\u5f0f\u5b50\u3002"),(0,r.kt)("p",null,"\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\u4e0a\u65b9\u4ecb\u7ecd\u7684\u53d8\u6362\u90fd\u662f\u53ef\u9006\u7684\uff0c\u4f8b\u5982\u5e73\u79fb\u53d8\u6362\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"matrix = [\n  1, 0, dx,\n  0, 1, dy,\n  0, 0, 1\n]\n\ninvertMatrix = [\n  1, 0, -dx,\n  0, 1, -dy,\n  0, 0, 1\n]\n")),(0,r.kt)("p",null,"\u5c06\u5b83\u5e73\u79fb\u90e8\u5206\u53d8\u4e3a\u8d1f\u7684\u5373\u53ef\u3002"),(0,r.kt)("h3",{id:"\u7ed5\u4e2d\u5fc3\u65cb\u8f6c"},"\u7ed5\u4e2d\u5fc3\u65cb\u8f6c"),(0,r.kt)("p",null,"\u6211\u4eec\u65cb\u8f6c\u4e00\u4e2a\u7269\u4f53\u65f6\uff0c\u4e00\u822c\u5e0c\u671b\u7ed5\u5b83\u7684\u4e2d\u5fc3\u65cb\u8f6c\uff0c\u800c\u4e0d\u662f\u5176\u4ed6\u5730\u65b9\u3002\u8981\u5b9e\u73b0\u8fd9\u4e2a\u6548\u679c\uff0c\u6211\u4eec\u53ef\u4ee5\u5bf9\u7269\u4f53\u8fdb\u884c\u4e09\u6b21\u53d8\u6362\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/25923128/121772402-c7faa000-cba7-11eb-9a96-ac152c6df98a.png",alt:"image"})),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u9996\u5148\u6211\u4eec\u53ef\u4ee5\u7528\u5e73\u79fb\u77e9\u9635 T \u5c06\u7269\u4f53\u79fb\u52a8\u5230\u539f\u70b9\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u518d\u4f7f\u7528\u65cb\u8f6c\u77e9\u9635 R \u65cb\u8f6c\u7269\u4f53"),(0,r.kt)("li",{parentName:"ol"},"\u6700\u540e\u4f7f\u7528\u7b2c\u4e00\u6b21\u5e73\u79fb\u77e9\u9635\u7684\u9006\u77e9\u9635 T^-1 \u5c06\u7269\u4f53\u79fb\u56de\u539f\u5904")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"T = [\n  1, 0, -dx,\n  0, 1, -dy,\n  0, 0, 1\n]\n\nR = [\n  cos(\u03b8), -sin(\u03b8), 0\n  sin(\u03b8), cos(\u03b8),  0\n  0,      0,       1\n]\n\nT^-1 = [\n  1, 0, dx,\n  0, 1, dy,\n  0, 0, 1\n]\n")),(0,r.kt)("p",null,"\u6839\u636e\u4e0a\u65b9\u65cb\u8f6c\u548c\u5e73\u79fb\u4e2d\u5f97\u51fa\u7684\u77e9\u9635\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"T^-1 * R")," \u7b49\u4e8e\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"[\n  cos(\u03b8), -sin(\u03b8), dx,\n  sin(\u03b8), cos(\u03b8),  dy,\n  0,      0,       1\n]\n")),(0,r.kt)("p",null,"\u6211\u4eec\u5c06\u8fd9\u4e9b\u77e9\u9635\u7ec4\u5408\u8d77\u6765\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"M = T^-1 * R * T\n  = [\n    cos(\u03b8), -sin(\u03b8), -dx * cos(\u03b8) + dy * sin(\u03b8) + dx,\n    sin(\u03b8), cos(\u03b8),  -dx * sin(\u03b8) + -dy * cos(\u03b8) + dy,\n    0,      0,       1\n  ]\n")),(0,r.kt)("p",null,"\u65cb\u8f6c\u90e8\u5206\u8fd8\u662f\u6ca1\u6709\uff0c\u53ea\u6539\u53d8\u4e86\u5e73\u79fb\u7684\u90e8\u5206\uff0c\u5728\u4eff\u5c04\u53d8\u6362\u4e2d\u989d\u5916\u7684\u5e73\u79fb\u53ea\u6539\u53d8\u5e73\u79fb\u90e8\u5206\uff08\u6700\u540e\u4e00\u5217\uff09\u3002"),(0,r.kt)("h2",{id:"3d-\u53d8\u6362"},"3D \u53d8\u6362"),(0,r.kt)("p",null,"\u4e0a\u9762\u5c55\u793a\u7684\u90fd\u662f 2D \u53d8\u6362\uff0c\u6211\u4eec\u53ea\u9700\u7a0d\u5fae\u6269\u5c55\u5c31\u53ef\u4ee5\u5c06\u8fd9\u8fb9\u53d8\u6362\u53d8\u6210\u4e09\u7ef4\u53d8\u6362\u3002"),(0,r.kt)("h3",{id:"\u5e73\u79fb\u77e9\u9635"},"\u5e73\u79fb\u77e9\u9635"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"[\n  1, 0, 0, dx,\n  0, 1, 0, dy,\n  0, 0, 1, dz,\n  0, 0, 0, 1\n]\n")),(0,r.kt)("h3",{id:"\u7f29\u653e\u77e9\u9635"},"\u7f29\u653e\u77e9\u9635"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"[\n  sx, 0,  0,  0,\n  0,  sy, 0,  0,\n  0,  0,  sz, 0,\n  0,  0,  0,  1\n]\n")),(0,r.kt)("h4",{id:"\u4efb\u610f\u65b9\u5411\u7f29\u653e"},"\u4efb\u610f\u65b9\u5411\u7f29\u653e"),(0,r.kt)("p",null,"\u9664\u4e86 X\uff0cY\uff0cZ \u8f74\u65b9\u5411\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u5b9e\u73b0\u4efb\u610f\u65b9\u5411\u7f29\u653e\u3002\u5047\u8bbe\u6211\u4eec\u4efb\u610f\u65b9\u5411\u662f\u5355\u4f4d\u77e2\u91cf N\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/25923128/121781566-f7290580-cbd7-11eb-85ca-657b30a02c30.png",alt:"image"})),(0,r.kt)("p",null,"\u4e0a\u56fe\u4e2d\u5c06\u77e2\u91cf V\uff0c\u6cbf\u7740\u5355\u4f4d\u77e2\u91cf N \u8fdb\u884c\u7f29\u653e\uff0c\u7f29\u653e\u6bd4\u4f8b\u4e3a k\uff0c\u5f97\u5230\u77e2\u91cf V'\u3002"),(0,r.kt)("p",null,"\u5c06\u77e2\u91cf V \u5206\u89e3\u4e3a V\u2225 \u548c V\u22a5\uff0c\u4f7f\u5f97 V\u2225 \u5e73\u884c N\uff0cV\u22a5 \u5782\u76f4\u4e8e V\u2225\uff0c\u5e76\u4e14 V = V\u2225 + V\u22a5\u3002\u540c\u6837\u7684\u5c06 V' \u4e5f\u5206\u4e3a V'\u2225 \u548c V'\u22a5\u3002"),(0,r.kt)("p",null,"\u7531\u4e8e V\u22a5 \u5782\u76f4 N\uff0c\u6240\u4ee5\u5b83\u4e0d\u4f1a\u53d7\u5230\u7f29\u653e\u64cd\u4f5c\u5f71\u54cd\uff0c\u5bf9 V \u7684\u7f29\u653e\u4e5f\u5c31\u662f\u5bf9 V\u2225 \u7684\u7f29\u653e\u3002"),(0,r.kt)("p",null,"\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0 V\u2225 \u7b49\u4e8e ",(0,r.kt)("inlineCode",{parentName:"p"},"(V \xb7 N) * N"),"\uff0c\u90a3\u4e48\u53d8\u6362\u540e V' \u5c31\u4e3a\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"V = V|| + V\u22a5\n\nV|| = (V \xb7 N) * N\n\nV'\u22a5 = V\u22a5\n    = V - V||\n    = V - (V \xb7 N) * N\n\nV'|| = k * V||\n     = k * (V \xb7 N) * N\n\nV' = V'\u22a5 + V'||\n   = V - (V \xb7 N) * N + k * (V \xb7 N) * N\n   = V + (k - 1) * (V \xb7 N) * N\n")),(0,r.kt)("p",null,"\u6c42\u51fa\u4e86 V'\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5f97\u5230\u5728\u4efb\u610f\u5355\u4f4d\u77e2\u91cf N \u65b9\u5411\uff0c\u7f29\u653e k \u7684\u7f29\u653e\u77e9\u9635\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"[\n  1 + (k - 1) * (Nx ** 2),  (k - 1) * Nx * Ny,        (k - 1) * Nx * Nz,       0,\n  (k - 1) * Nx * Ny,        1 + (k - 1) * (Ny ** 2),  (k - 1) * Nx * Nz,       0,\n  (k - 1) * Nx * Nz,        (k - 1) * Ny * Nz,        1 + (k - 1) * (Nz ** 2), 0,\n  0,                        0,                        0,                       1\n]\n")),(0,r.kt)("h3",{id:"\u65cb\u8f6c\u77e9\u9635"},"\u65cb\u8f6c\u77e9\u9635"),(0,r.kt)("p",null,"\u5bf9\u4e8e\u4e09\u7ef4\u65cb\u8f6c\uff0c\u6211\u4eec\u53ef\u4ee5\u7ed5 X\u3001Y \u548c Z \u8f74\u65cb\u8f6c\uff0c\u6bcf\u4e2a\u65cb\u8f6c\u5bf9\u5e94\u4e00\u4e2a\u65cb\u8f6c\u77e9\u9635\u3002"),(0,r.kt)("p",null,"\u6211\u4eec\u8fd8\u9700\u8981\u786e\u8ba4\u54ea\u4e2a\u65b9\u5411\u662f\u65cb\u8f6c\u6b63\u65b9\u5411\uff0c\u6211\u4eec\u8fd9\u91cc\u7528",(0,r.kt)("a",{parentName:"p",href:"/learn-webgl/docs/coordinate"},"\u5750\u6807\u7cfb"),"\u4e2d\u63d0\u5230\u7684\u53f3\u624b\u5750\u6807\u7cfb\u3002"),(0,r.kt)("p",null,"\u7ed5 X \u8f74\u65cb\u8f6c\uff0cX \u8f74\u5750\u6807\u4e0d\u53d8\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"Rx = [\n  1, 0,      0,       0\n  0, cos(\u03b8), -sin(\u03b8), 0\n  0, sin(\u03b8), cos(\u03b8),  0\n  0, 0,      0,       1\n]\n")),(0,r.kt)("p",null,"\u7ed5 Y \u8f74\u65cb\u8f6c\uff0cY \u8f74\u5750\u6807\u4e0d\u53d8\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"Ry = [\n  cos(\u03b8),  0, sin(\u03b8),  0\n  0,       1, 0,       0\n  -sin(\u03b8), 0, cos(\u03b8),  0\n  0,       0, 0,       1\n]\n")),(0,r.kt)("p",null,"\u7ed5 Z \u8f74\u65cb\u8f6c\uff0cZ \u8f74\u5750\u6807\u4e0d\u53d8\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"Rz = [\n  cos(\u03b8), -sin(\u03b8), 0, 0,\n  sin(\u03b8), cos(\u03b8),  0, 0,\n  0,      0,       1, 0,\n  0,      0,       0, 1\n]\n")),(0,r.kt)("h4",{id:"\u7ed5\u4efb\u610f\u8fc7\u539f\u70b9\u8f74\u65cb\u8f6c"},"\u7ed5\u4efb\u610f\u8fc7\u539f\u70b9\u8f74\u65cb\u8f6c"),(0,r.kt)("p",null,"\u9664\u4e86\u7ed5 X\u3001Y\u3001Z \u8f74\uff0c\u8fd8\u53ef\u4ee5\u7ed5\u4efb\u610f\u8f74\u65cb\u8f6c\uff08\u8be5\u8f74\u7a7f\u8fc7\u539f\u70b9\uff0c\u4e0d\u8003\u8651\u4f4d\u79fb\u7684\u60c5\u51b5\uff09\u3002\u5047\u8bbe\u7ed5\u4efb\u610f\u8f74\u5355\u4f4d\u77e2\u91cf N\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/25923128/121803153-bf22d080-cc72-11eb-90fa-113b9bd7220a.png",alt:"image"})),(0,r.kt)("p",null,"\u548c\u4efb\u610f\u65b9\u5411\u7f29\u653e\u4e2d\u4e00\u6837\uff0c\u4e0a\u56fe\u4e2d V' \u662f\u77e2\u91cf V \u6cbf\u5355\u4f4d\u77e2\u91cf N \u65cb\u8f6c \u03b8 \u5ea6\u540e\u7684\u7ed3\u679c\u3002\u8981\u6c42\u51fa V' \u7684\u4f4d\u7f6e\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06 V \u548c V' \u62c6\u5206\u6210\u5782\u76f4\u548c\u5e73\u884c\u5206\u91cf\uff0c\u5176\u4e2d\u5e73\u884c\u5206\u91cf\u5e73\u884c\u4e8e N\u3002"),(0,r.kt)("p",null,"\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\u65cb\u8f6c\u662f\u5e94\u7528\u5728\u5782\u76f4\u5206\u91cf\u4e0a\u7684\uff0c\u56e0\u4e3a\u5e73\u884c\u5206\u91cf\u4e8e\u65cb\u8f6c\u65b9\u5411 N \u5e73\u884c\uff0c\u4e0d\u53d7\u65cb\u8f6c\u5f71\u54cd\u3002\u6211\u4eec\u73b0\u5728\u53ef\u4ee5\u628a\u76ee\u6807\u653e\u5728 2 \u7ef4\u5e73\u9762\u4e0a\u7684\u5782\u76f4\u77e2\u91cf V\u22a5 \u548c V'\u22a5\u3002"),(0,r.kt)("p",null,"\u6211\u4eec\u53ef\u4ee5\u6784\u9020\u4e00\u4e2a W \u77e2\u91cf\uff0cW \u5782\u76f4 V\u22a5\uff0c\u957f\u5ea6\u4e8e V\u22a5 \u76f8\u7b49\u3002W \u77e2\u91cf\u7b49\u4e8e N \u53c9\u4e58 V\u22a5 \uff08\u53c9\u4e58\u5728",(0,r.kt)("a",{parentName:"p",href:"/learn-webgl/docs/vector-matrix"},"\u77e2\u91cf\u548c\u77e9\u9635"),"\u4e2d\u6709\u8bb2\uff09\u3002"),(0,r.kt)("p",null,"W\u3001V\u22a5\u3001V'\u22a5 \u90fd\u5728\u4e00\u4e2a\u5e73\u9762\u4e0a\uff0c\u5e76\u4e14 W \u4e0e V\u22a5 \u5782\u76f4\uff0c\u6211\u4eec\u628a W \u548c V\u22a5 \u5f53\u6210\u6c34\u5e73\u548c\u5782\u76f4\u5750\u6807\u8f74\uff0c\u6839\u636e\u4e0a\u65b9\u8bb2\u5230\u7684\u4e8c\u7ef4\u65cb\u8f6c\uff0c\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"V'\u22a5 = cos(\u03b8) * V\u22a5 + sin(\u03b8) * W\n")),(0,r.kt)("p",null,"\u90a3\u4e48 V' \u5c31\u7b49\u4e8e\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"V|| = (V \xb7 N) * N\n\nV\u22a5 = V - V||\n   = V - (V \xb7 N) * N\n\nW = N \xd7 V\u22a5\n  = N \xd7 (V - V||)\n  = N \xd7 V - N \xd7 V||\n  = N \xd7 V\n\nV'\u22a5 = cos(\u03b8) * V\u22a5 + sin(\u03b8) * W\n    = cos(\u03b8) * (V - (V \xb7 N) * N) + sin(\u03b8) * (N \xd7 V)\n\nV'|| = V||\n\nV' = V'\u22a5 + V'||\n   = cos(\u03b8) * (V - (V \xb7 N) * N) + sin(\u03b8) * (N \xd7 V) + (V \xb7 N) * N\n")),(0,r.kt)("p",null,"\u628a\u5750\u6807\u8f74\u57fa\u77e2\u91cf\u5e26\u5165\u4e0a\u65b9\u5f0f\u5b50\u4e2d\uff0c\u90a3\u4e48\u7ed5\u4efb\u610f\u8fc7\u539f\u70b9\u8f74\u65cb\u8f6c\u7684\u77e9\u9635\u5982\u4e0b\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"[\n  (Nx ** 2) * (1 - cos(\u03b8)) + cos(\u03b8),    Nx * Ny * (1 - cos(\u03b8)) - Nz * sin(\u03b8), Nx * Nz * (1 - cos(\u03b8)) + Ny * sin(\u03b8), 0\n  Nx * Ny * (1 - cos(\u03b8)) + Nz * sin(\u03b8), (Ny ** 2) * (1 - cos(\u03b8)) + cos(\u03b8),    Ny * Nz * (1 - cos(\u03b8)) - Nx * sin(\u03b8), 0\n  Nx * Nz * (1 - cos(\u03b8)) - Ny * sin(\u03b8), Ny * Nz * (1 - cos(\u03b8)) + Nx * sin(\u03b8), (Nz ** 2) * (1 - cos(\u03b8)) + cos(\u03b8),    0\n  0,                                    0,                                    0,                                    1\n]\n")),(0,r.kt)("h2",{id:"\u603b\u7ed3"},"\u603b\u7ed3"),(0,r.kt)("p",null,"\u8fd9\u7bc7\u6587\u7ae0\u5982\u4f55\u53d8\u6362\u7269\u4f53\uff0c\u4ee5\u53ca\u4f7f\u7528\u77e9\u9635\u6765\u53d8\u6362\u7269\u4f53\u548c\u4f7f\u7528\u77e9\u9635\u7684\u597d\u5904\u3002\u8fd9\u7bc7\u6587\u7ae0\u4e2d\u7684\u77e9\u9635\u90fd\u662f\u6570\u5b66\u4e2d\u7684\u5f62\u5f0f\uff0c\u5982\u679c\u8981\u5728 WebGL \u4e2d\u4f7f\u7528\u9700\u8981\u5c06",(0,r.kt)("strong",{parentName:"p"},"\u77e9\u9635\u8f6c\u7f6e"),"\u4e00\u4e0b\uff0c\u53d8\u6210\u5217\u4e3b\u5e8f\u77e9\u9635\u3002"),(0,r.kt)("p",null,"\u77e5\u9053\u4e86\u5982\u4f55\u53d8\u6362\u7269\u4f53\uff0c",(0,r.kt)("a",{parentName:"p",href:"/learn-webgl/docs/box"},"\u4e0b\u7bc7\u6587\u7ae0"),"\u5c31\u8ba9\u7acb\u65b9\u4f53\u65cb\u8f6c\u8d77\u6765\u5427\u3002"))}c.isMDXComponent=!0}}]);